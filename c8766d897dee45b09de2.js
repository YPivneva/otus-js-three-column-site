const dataIdBlock="carousel",dataArrImg=[{name:"Название изображения 1",path:"./img/slide_1.jpg"},{name:"Название изображения 2",path:"./img/slide_2.jpg"},{name:"Название изображения 3",path:"./img/slide_3.jpg"},{name:"Название изображения 4",path:"./img/slide_4.jpg"}];function CreatCarousel(e,t){this.idBlock=e,this.arrImg=t,this.startCreat=()=>{const s=document.querySelector(`#${e}`);s.classList.add("carousel"),s.insertAdjacentHTML("afterbegin",'<div id="carousel__button" class="carousel__button"></div>'),s.insertAdjacentHTML("beforeend",'<button id="carousel__left" class="early">&#60;</button>'),s.insertAdjacentHTML("beforeend",'<button id="carousel__right" class="next">&#62;</button>'),s.insertAdjacentHTML("beforeend",'<div class="mask"><div id="carousel__sliders" class="carousel-sliders"></div></div>'),t.forEach((e=>{document.querySelector("#carousel__sliders").innerHTML+=`\n              <div>\n                <img src="${e.path}" alt="изображение первого слайда" />\n                <p>${e.name}</p>\n              </div>`}))}}function show(){const e=document.querySelector("#carousel__sliders").getElementsByTagName("div");document.querySelector("#carousel__sliders").querySelectorAll("div").forEach((e=>{e.classList.add("slider-part")}));const t=document.querySelector("#carousel__button").getElementsByTagName("p"),s=e.length;let l=parseInt(document.querySelector("#carousel").getAttribute("elem"),10);const r=setInterval((()=>{document.querySelector("#carousel").setAttribute("elem",l),l>0?(e[l-1].style.left="-600px",t[l-1].classList.remove("active"),e[l].style.left="0px",e[l].style.opacity="1",t[l].classList.add("active"),e[l-2]?(e[l-2].style.left="600px",e[l-2].style.opacity="0",t[l-2].classList.remove("active")):(e[l+s-3].style.left="600px",e[l+s-3].style.opacity="0",t[l+s-3].classList.remove("active"))):("0px"===e[s-1].style.left&&(e[s-1].style.left="-600px",t[s-1].classList.remove("active")),e[l].style.left="0px",e[l].style.opacity="1",t[l].classList.add("active"),e[l+s-3].style.left="600px",e[l+s-3].style.opacity="0",t[l+s-3].classList.remove("active")),l++,l===s&&(l=0)}),4e3);document.querySelector("#carousel").timer=r}function showSlide(){const e=parseInt(document.querySelector("#carousel").getAttribute("elem"),10);show(),document.querySelector("#carousel__sliders").getElementsByTagName("div")[e].style.transition="left 3s 0s linear"}function pauseSlide(){const e=document.querySelector("#carousel").timer,t=parseInt(document.querySelector("#carousel").getAttribute("elem"),10);document.querySelector("#carousel__sliders").getElementsByTagName("div")[t].style.transition="none",clearInterval(e)}function leftButtonSlide(){const e=parseInt(document.querySelector("#carousel").getAttribute("elem"),10),t=document.querySelector("#carousel__sliders").getElementsByTagName("div");let s=e-1;s<0&&(s=t.length-1,t[0].style.left="600px",t[0].style.opacity="0",t[0].style.transition="left 3s 0s linear"),document.querySelector("#carousel").setAttribute("elem",s),t[s].style.left="0px",t[s].style.opacity="1",t[s].style.transition="none",t[s+1]&&(t[s+1].style.left="600px",t[s+1].style.opacity="0",t[s+1].style.transition="left 3s 0s linear")}function rightButtonSlide(){const e=parseInt(document.querySelector("#carousel").getAttribute("elem"),10),t=document.querySelector("#carousel__sliders").getElementsByTagName("div"),s=t.length;let l=e+1;l===s&&(l=0,t[s-1].style.left="600px",t[s-1].style.opacity="0",t[s-1].style.transition="left 3s 0s linear"),document.querySelector("#carousel").setAttribute("elem",l),t[l].style.left="0px",t[l].style.opacity="1",t[l].style.transition="none",t[l-1]&&(t[l-1].style.left="600px",t[l-1].style.opacity="0",t[l-1].style.transition="left 3s 0s linear")}function buttonsSlide(e){const t=parseInt(e.target.getAttribute("id"),10),s=document.querySelector("#carousel__sliders").getElementsByTagName("div"),l=document.querySelector("#carousel__button").getElementsByTagName("p"),r=s.length;document.querySelector("#carousel").setAttribute("elem",t),s[t].style.left="0px",s[t].style.opacity="1",s[t].style.transition="none",l[t].classList.add("active");for(let e=0;e<t;e++)s[e].style.left="600px",s[e].style.opacity="0",s[e].style.transition="left 3s 0s linear",l[e].classList.remove("active");for(let e=t+1;e<r;e++)s[e].style.left="600px",s[e].style.opacity="0",s[e].style.transition="left 3s 0s linear",l[e].classList.remove("active")}function increase(){document.querySelector(".carousel").setAttribute("elem",0);const e=document.querySelector("#carousel__sliders").getElementsByTagName("div").length;for(let t=0;t<e;t++)document.querySelector("#carousel__button").innerHTML+=`<p id="${t}" class="carousel__point-button"></p>`;document.querySelector("#carousel").addEventListener("mouseover",pauseSlide,!1),document.querySelector("#carousel__button").addEventListener("click",buttonsSlide,!1),document.querySelector("#carousel__left").addEventListener("click",leftButtonSlide,!1),document.querySelector("#carousel__right").addEventListener("click",rightButtonSlide,!1),document.querySelector("#carousel").addEventListener("mouseout",showSlide,!1),show()}new CreatCarousel("carousel",dataArrImg).startCreat(),increase(),document.querySelector(".file-add").addEventListener("click",(()=>{document.querySelector(".file-add").onchange=e=>{const t=e.target.files[0],s=new FileReader;s.readAsDataURL(t),s.onload=e=>{dataArrImg.push({name:`${t.name}`,path:`${e.target.result}`}),document.querySelector("#carousel__sliders").innerHTML+=`\n              <div>\n                <img src="${e.target.result}" alt="изображение первого слайда" />\n                <p>${t.name}</p>\n              </div>`;const s=dataArrImg.length-1;document.querySelector("#carousel__button").innerHTML+=`<p id="${s}" class="carousel__point-button"></p>`,show()}}})),document.querySelector(".remove-image").addEventListener("click",(()=>{const e=document.querySelector("#carousel__sliders").getElementsByTagName("div");if(e.length<0)alert("Нет элементов, которые можно было бы удалить");else{const t=parseInt(document.querySelector("#carousel").getAttribute("elem"),10);delete dataArrImg[t],e[t].remove(),document.querySelector("#carousel__button").getElementsByTagName("p")[t].remove(),document.querySelector("#carousel").setAttribute("elem",t+1),show()}}));